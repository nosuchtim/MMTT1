/*
 *  Created by Tim Thompson on 1/31/09.
 *  Copyright 2009 __MyCompanyName__. All rights reserved.
 *
 */

#ifndef MANIFOLD_OSC_INPUT
#define MANIFOLD_OSC_INPUT

class NosuchOscTcpInput;
class NosuchOscUdpInput;
class PaletteFF;

class PaletteOscInput : public NosuchOscMessageProcessor {

public:
	PaletteOscInput(const char *host, int port);
	~PaletteOscInput();
	void Check();
	int Listen();
	void UnListen();
	void AddOscProcessor(NosuchOscMessageProcessor* processor);
	void RemoveOscProcessor(NosuchOscMessageProcessor* processor);
	void ProcessOscMessage(const char *source, const osc::ReceivedMessage& m);

private:
	std::list<PaletteFF*> _manifolds;
	NosuchOscTcpInput* _tcp;
	NosuchOscUdpInput* _udp;
	// int _seq;
	std::list<NosuchOscMessageProcessor*> _processors;
};

#endif
